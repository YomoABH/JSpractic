const products=[{id:1,title:"Lenovo Yoga",price:3e3},{id:2,title:"Acer Aspire",price:1800},{id:3,title:"Dell Vostro",price:3400}];document.addEventListener("DOMContentLoaded",loadProduct);let order=[];function addToBasket(e){let t=products.find((t=>t.id===e)),r=!0;1===order.filter((t=>t.id===e)).length&&(r=!1),r?(order.push(t),saveToStorage(t)):alert("Товар уже в корзине"),renderCart(),rerenderTotalPrice()}function removeFromBasket(e){removeStorage(order.find((t=>t.id===e))),order.splice(order.findIndex((t=>t.id===e)),1),renderCart(),rerenderTotalPrice()}function rerenderTotalPrice(){let e=order.reduce(((e,t)=>e+t.price),0);document.getElementById("total").innerText=e}function renderCart(){const e=document.getElementById("basket-items");e.innerHTML="",order.forEach((t=>{const r=document.createElement("li");r.innerText=t.title,r.onclick=()=>removeFromBasket(t.id),e.appendChild(r)}))}function saveToStorage(e){const t=JSON.parse(localStorage.getItem("product"))||[];localStorage.setItem("product",JSON.stringify([...t,e]))}function loadProduct(){const e=JSON.parse(localStorage.getItem("product"));e&&(localStorage.clear("product"),e.forEach((e=>{addToBasket(e.id)})))}function removeStorage(e){const t=JSON.parse(localStorage.getItem("product"))||[];localStorage.setItem("product",JSON.stringify(t.filter((t=>t.id!==e.id)))),console.log(t,"log")}